(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[423],{925:function(e,t,n){Promise.resolve().then(n.bind(n,5547))},8333:function(e,t,n){"use strict";var o,a,r=Object.create,l=Object.defineProperty,i=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(s)for(var n of s(t))f.call(t,n)&&p(e,n,t[n]);return e},g=(e,t,n,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of c(t))d.call(e,a)||a===n||l(e,a,{get:()=>t[a],enumerable:!(o=i(t,a))||o.enumerable});return e},m={};((e,t)=>{for(var n in t)l(e,n,{get:t[n],enumerable:!0})})(m,{createI18nClient:()=>N}),e.exports=g(l({},"__esModule",{value:!0}),m),n(2219);var v=n(7907),b=(a=null!=(o=n(2265))?r(u(o)):{},g(o&&o.__esModule?a:l(a,"default",{value:o,enumerable:!0}),o)),_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.entries(e).reduce((e,n)=>{let[o,a]=n;return h(h({},e),"string"==typeof a?{[t+o]:a}:_(a,"".concat(t).concat(o,".")))},{})},y=e=>null,j=e=>null,k=new Map,w=n(2265),x=n(2265),S=n(2265);function O(e,t){let{localeContent:n,fallbackLocale:o}=e,a=o&&"string"==typeof n?o:Object.assign(null!=o?o:{},n),r=new Set(Object.keys(a).filter(e=>e.includes("#")).map(e=>e.split("#",1)[0])),l=new Intl.PluralRules(e.locale);return function(e){for(var n,o,i,c=arguments.length,s=Array(c>1?c-1:0),u=1;u<c;u++)s[u-1]=arguments[u];let d=s[0],f=!1;d&&"count"in d&&(t?r.has("".concat(t,".").concat(e)):r.has(e))&&(e="".concat(e,"#").concat(0===(n=d.count)?"zero":l.select(n)),f=!0);let p=t?a["".concat(t,".").concat(e)]:a[e];if(!p&&f){let t=e.split("#",1)[0];p=null==(o=a["".concat(t,"#other")]||e)?void 0:o.toString()}else p=null==(i=p||e)?void 0:i.toString();if(!d)return p;let h=!0,g=null==p?void 0:p.split(/({[^}]*})/).map((e,t)=>{let n=e.match(/{(.*)}/);if(n){let e=n[1],o=d[e];return(0,S.isValidElement)(o)?(h=!1,(0,S.cloneElement)(o,{key:"".concat(String(e),"-").concat(t)})):o}return e});return h?null==g?void 0:g.join(""):g}}var T=n(2265),C=n(7907),P=n(7907),D=n(2265);function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(e),o=(0,w.createContext)(null),a=function(){var e;let o=(0,P.useParams)()[null!=(e=t.segmentName)?e:"locale"];return(0,D.useMemo)(()=>{for(let e of n)if(o===e)return e;j('Locale "'.concat(o,'" not found in locales (').concat(n.join(", "),'), returning "notFound()"')),(0,P.notFound)()},[o])};return{useI18n:function(){let e=(0,x.useContext)(o);if(!e)throw Error("`useI18n` must be used inside `I18nProvider`");return(0,x.useMemo)(()=>O(e,void 0),[e])},useScopedI18n:function(e){let t=(0,T.useContext)(o);if(!t)throw Error("`useI18n` must be used inside `I18nProvider`");return(0,T.useMemo)(()=>O(t,e),[t,e])},I18nProviderClient:function(e,t,n){function o(t){var o;let{locale:a,importLocale:r,children:l}=t,i=null!=(o=k.get(a))?o:(0,b.use)(r).default;k.has(a)||k.set(a,i);let c=(0,b.useMemo)(()=>({localeContent:_(i),fallbackLocale:n?_(n):void 0,locale:a}),[i,a]);return b.default.createElement(e.Provider,{value:c},l)}return function(e){let{locale:n,fallback:a,children:r}=e,l=t[n];return l||(j("The locale '".concat(n,"' is not supported. Defined locales are: [").concat(Object.keys(t).join(", "),"].")),(0,v.notFound)()),b.default.createElement(b.Suspense,{fallback:a},b.default.createElement(o,{locale:n,importLocale:l()},r))}}(o,e,t.fallbackLocale),I18nClientContext:o,useChangeLocale:function(n){let{push:o,refresh:r}=(0,C.useRouter)(),l=a(),i=(0,C.usePathname)(),c=(null==n?void 0:n.preserveSearchParams)?(0,C.useSearchParams)().toString():void 0,s=c?"?".concat(c):"",u=i;return t.basePath&&(u=u.replace(t.basePath,"")),u.startsWith("/".concat(l,"/"))?u=u.replace("/".concat(l,"/"),"/"):u==="/".concat(l)&&(u="/"),function(t){if(t===l)return;let n=e[t];if(!n){y("The locale '".concat(t,"' is not supported. Defined locales are: [").concat(Object.keys(e).join(", "),"]."));return}n().then(e=>{k.set(t,e.default),o("/".concat(t).concat(u).concat(s)),r()})}},defineLocale:function(e){return e},useCurrentLocale:a}}},4232:function(e,t,n){"use strict";n.d(t,{default:function(){return a.a}});var o=n(4930),a=n.n(o)},7907:function(e,t,n){"use strict";n.r(t);var o=n(5313),a={};for(var r in o)"default"!==r&&(a[r]=(function(e){return o[e]}).bind(0,r));n.d(t,a)},2219:function(){},4930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let o=n(6921);n(7437),n(2265);let a=o._(n(4795));function r(e,t){let n={loading:e=>{let{error:t,isLoading:n,pastDelay:o}=e;return null}};return"function"==typeof e&&(n.loader=e),(0,a.default)({...n,...t})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9721:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let o=n(9775);function a(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new o.BailoutToCSRError(t);return n}},4795:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let o=n(7437),a=n(2265),r=n(9721);function l(e){var t;return{default:null!=(t=null==e?void 0:e.default)?t:e}}let i={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},c=function(e){let t={...i,...e},n=(0,a.lazy)(()=>t.loader().then(l)),c=t.loading;function s(e){let l=c?(0,o.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,i=t.ssr?(0,o.jsx)(n,{...e}):(0,o.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,o.jsx)(n,{...e})});return(0,o.jsx)(a.Suspense,{fallback:l,children:i})}return s.displayName="LoadableComponent",s}},5547:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o=n(7437),a=n(2265),r=n(6417);n(5023);var l=n(5665),i=n(906),c=n(828),s=n(5086),u=n(7907),d=n(377);function f(e){let{referer:t=null}=e,n=(0,r.QT)(),[f,p]=(0,a.useState)(!0),[h,g]=(0,a.useState)(""),{toast:m}=(0,d.pm)(),v=(0,u.useRouter)(),b=(0,c.I0)();return(0,a.useEffect)(()=>{var e,t,n,o,a;e=document,t="script",n="facebook-jssdk",a=e.getElementsByTagName(t)[0],e.getElementById(n)||((o=e.createElement(t)).id=n,o.src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v10.0",a.parentNode.insertBefore(o,a)),window.fbAsyncInit=function(){window.FB.init({appId:"421808707034497",xfbml:!0,version:"v18.0"})}},[]),(0,a.useEffect)(()=>{p(!1),h&&(async e=>{await fetch(i.h.login_social+"?social_token="+e+"&login_from=facebook&referent_id="+t,{method:"POST",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{if((null==e?void 0:e.message)==="Credential is already exists!")return m({title:"Th\xf4ng b\xe1o",description:n("auth.dang-nhap_email-da-ton-tai")});let{id:t,name:o,email:a,facebook:r,google:i,apple:c,token:u,isNew:d,photo:f}=(null==e?void 0:e.data)||(null==e?void 0:e.result);s.Z.setCookie("ctoken",u,7),b((0,l.av)({id:t,name:o,email:a,facebook:r,google:i,apple:c,isNew:d,photo:f})),m({title:"Th\xf4ng b\xe1o",description:n("auth.dang_nhap_facebook_thanh_cong")}),setTimeout(()=>{v.back()},500)}).catch(e=>{m({title:"Th\xf4ng b\xe1o",description:n("auth.dang_nhap_facebook_loi")})})})(h)},[h,p]),(0,o.jsxs)("button",{onClick:()=>{window&&window.FB.login(function(e){if("connected"===e.status){let t=e.authResponse.accessToken;t&&g(t)}else"not_authorized"===e.status?m({title:"Th\xf4ng b\xe1o",description:n("auth.ban_chua_cap_quyen_cho_ung_dung")}):window.FB.login(function(e){if(e.authResponse){let{accessToken:t}=e.authResponse;t&&g(t)}})},{auth_type:"rerequest"})},id:"button-login-facebook",className:"auth-btn auth-btn-fb flex items-center text-center",children:[(0,o.jsx)("p",{id:"login-facebook-response"}),(0,o.jsx)("div",{className:"auth-icon auth-icon-fb",children:(0,o.jsx)("span",{className:"font-size-24 auth-facebook icon-facebook"})}),(0,o.jsx)("span",{className:"font-size-16 mx-auto text-center font-semibold",children:n("auth.login_fb")})]})}let p=(0,a.createContext)(null);function h(e){let{clientId:t,nonce:n,onScriptLoadSuccess:o,onScriptLoadError:r,children:l}=e,i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:o}=e,[r,l]=(0,a.useState)(!1),i=(0,a.useRef)(n);i.current=n;let c=(0,a.useRef)(o);return c.current=o,(0,a.useEffect)(()=>{let e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;l(!0),null===(e=i.current)||void 0===e||e.call(i)},e.onerror=()=>{var e;l(!1),null===(e=c.current)||void 0===e||e.call(c)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[t]),r}({nonce:n,onScriptLoadSuccess:o,onScriptLoadError:r}),c=(0,a.useMemo)(()=>({clientId:t,scriptLoadedSuccessfully:i}),[t,i]);return a.createElement(p.Provider,{value:c},l)}function g(e){let{referer:t=null}=e,n=(0,r.QT)(),{toast:f}=(0,d.pm)(),[h,g]=(0,a.useState)(""),m=(0,c.I0)(),v=(0,u.useRouter)(),b=function(e){let{flow:t="implicit",scope:n="",onSuccess:o,onError:r,onNonOAuthError:l,overrideScope:i,state:c,...s}=e,{clientId:u,scriptLoadedSuccessfully:d}=function(){let e=(0,a.useContext)(p);if(!e)throw Error("Google OAuth components must be used within GoogleOAuthProvider");return e}(),f=(0,a.useRef)(),h=(0,a.useRef)(o);h.current=o;let g=(0,a.useRef)(r);g.current=r;let m=(0,a.useRef)(l);m.current=l,(0,a.useEffect)(()=>{var e,o;if(!d)return;let a="implicit"===t?"initTokenClient":"initCodeClient",r=null===(o=null===(e=null==window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===o?void 0:o.oauth2[a]({client_id:u,scope:i?n:"openid profile email ".concat(n),callback:e=>{var t,n;if(e.error)return null===(t=g.current)||void 0===t?void 0:t.call(g,e);null===(n=h.current)||void 0===n||n.call(h,e)},error_callback:e=>{var t;null===(t=m.current)||void 0===t||t.call(m,e)},state:c,...s});f.current=r},[u,d,t,n,c]);let v=(0,a.useCallback)(e=>{var t;return null===(t=f.current)||void 0===t?void 0:t.requestAccessToken(e)},[]),b=(0,a.useCallback)(()=>{var e;return null===(e=f.current)||void 0===e?void 0:e.requestCode()},[]);return"implicit"===t?v:b}({onSuccess:e=>{let{access_token:t}=e;t&&g(t)},onError:e=>{let{error:t,error_description:n,error_uri:o}=e;t&&f({title:"Th\xf4ng b\xe1o",description:n})}});return(0,a.useEffect)(()=>{let e=async e=>{await fetch(i.h.login_social+"?social_token="+e+"&login_from=google&referent_id="+t,{method:"POST",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{try{let{email:t,google:o,facebook:a,apple:r,id:i,isNew:c,name:u,token:d,photo:p}=(null==e?void 0:e.data)||(null==e?void 0:e.result);s.Z.setCookie("ctoken",d,7),m((0,l.av)({id:i,name:u,email:t,facebook:a,google:o,apple:r,isNew:c,photo:p})),f({title:"Th\xf4ng b\xe1o",description:n("auth.dang_nhap_google_thanh_cong")})}catch(e){f({title:"Th\xf4ng b\xe1o",description:n("auth.dang-nhap_email-da-ton-tai")})}let{email:t,google:o,facebook:a,apple:r,id:i,isNew:c,name:u,token:d,photo:p}=(null==e?void 0:e.data)||(null==e?void 0:e.result);s.Z.setCookie("ctoken",d,7),m((0,l.av)({id:i,name:u,email:t,facebook:a,google:o,apple:r,isNew:c,photo:p})),f({title:"Th\xf4ng b\xe1o",description:n("auth.dang_nhap_google_thanh_cong")}),setTimeout(()=>{v.back()},500)}).catch(e=>{f({title:"Th\xf4ng b\xe1o",description:n("auth.dang_nhap_google_loi")})})};h&&(e(h),g(""))},[h,g]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("button",{onClick:()=>{b()},id:"google-login-button",className:"auth-btn auth-btn-google flex items-center text-center",children:[(0,o.jsx)("div",{className:"auth-icon",children:(0,o.jsxs)("span",{className:"font-size-20 icon-logo_google",children:[(0,o.jsx)("span",{className:"font-size-20 path1"}),(0,o.jsx)("span",{className:"font-size-20 path2"}),(0,o.jsx)("span",{className:"font-size-20 path3"}),(0,o.jsx)("span",{className:"font-size-20 path4"})]})}),(0,o.jsx)("span",{className:"font-size-16 mx-auto text-center font-semibold",children:n("auth.login_google")})]})})}var m=n(4232);let v=(0,m.default)(()=>n.e(531).then(n.bind(n,5531)),{loadableGenerated:{webpack:()=>[5531]}}),b=(0,m.default)(()=>Promise.all([n.e(935),n.e(739)]).then(n.bind(n,2739)),{loadableGenerated:{webpack:()=>[2739]}});function _(e){var t;let{hideReferentUser:n}=e,p=(0,r.QT)(),m=(0,u.useSearchParams)(),_=(0,c.v9)(e=>e.auth.codeZalo),y=(0,c.I0)(),j=(0,u.useRouter)(),{toast:k}=(0,d.pm)(),w="";(null===(t=n[0])||void 0===t?void 0:t.is_active)===1&&(w=m.get("referent"));let x=e=>{(async()=>{await fetch(i.h.login_social+"?social_token="+e.code+"&login_from=zalo&code_verifier="+e.code_verifier,{method:"POST",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{if((null==e?void 0:e.message)==="Credential is already exists!"){k({title:"Th\xf4ng b\xe1o",description:p("auth.dang-nhap_email-da-ton-tai")});return}let{id:t,name:n,email:o,facebook:a,google:r,apple:i,zalo:c,token:u,isNew:d,photo:f}=(null==e?void 0:e.data)||(null==e?void 0:e.result);s.Z.setCookie("ctoken",u,7),y((0,l.av)({id:t,name:n,email:o,facebook:a,google:r,apple:i,zalo:c,isNew:d,photo:f})),k({title:"Th\xf4ng b\xe1o",description:p("auth.dang_nhap_zalo_thanh_cong")}),setTimeout(()=>{j.push("/")},1e3)}).catch(e=>{k({title:"Th\xf4ng b\xe1o",description:p("auth.dang_nhap_zalo_loi")})})})()};return(0,a.useEffect)(()=>{"CafeTheThaoZALO"===m.get("state")&&x({code:m.get("code"),app_id:"3590062348975944822",code_verifier:null==_?void 0:_.code_verifier,grant_type:"authorization_code"})},[m]),(0,o.jsx)("div",{className:"mt-6 flex justify-center",children:(0,o.jsxs)("div",{className:"login-component flex flex-col gap-6 bg-white",children:[(0,o.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("p",{className:"font-size-24 text-gadient font-bold uppercase",children:p("auth.login")}),(0,o.jsx)("p",{className:"font-size-24 text-gadient font-bold uppercase",children:"Livebongda8"})]}),(0,o.jsx)("div",{className:"color-grey font-size-16 text-center",children:p("auth.create_acc_or_login")})]}),(0,o.jsx)(f,{referer:w}),(0,o.jsx)(h,{clientId:"49459475009-82k28mmuncdiectsp1gvkhmnv81rasr5.apps.googleusercontent.com",children:(0,o.jsx)(g,{referer:w})}),(0,o.jsx)(b,{referer:w}),(0,o.jsx)(v,{})]})})}},5665:function(e,t,n){"use strict";n.d(t,{av:function(){return c},iI:function(){return k},kS:function(){return s}});var o=n(8166),a=n(9539),r=n.n(a);let l=(0,o.oM)({name:"auth",initialState:{openModalStatus:!1,typeModal:"signin",referrer:"standard",aic_1st_skip:!0,user:{},device_id:"",isUserNeedToConnectEmail:!1,isUserNeedToConnectEmailFacebook:!1,energy:0,stepWelcome:0,dueDateShowRemind:r()().toString(),isDontShowLikeTutorialAgain:!1,isDontShowConfirmModalFAQ:!1,isDontShowWelcomeMission:!0,isDontShowRemind:!1,codeZalo:{}},reducers:{openModal:(e,t)=>{e.openModalStatus=t.payload,!1===t.payload&&(e.typeModal="signin")},setTypeModal:(e,t)=>{e.typeModal=t.payload},setReferrer:(e,t)=>{e.referrer=t.payload},setUser:(e,t)=>{e.user=t.payload},logout:e=>{e.user={},e.energy=0},updateUser:(e,t)=>{let n=Object.assign({},e.user,t.payload);e.user={...n},e.energy=0},removeInvalidUserAndOpenLoginModal:e=>{e.user={},e.openModalStatus=!0,e.energy=0},setDeviceId:(e,t)=>{e.device_id=t.payload},updateEnergy:(e,t)=>{e.energy=t.payload},updateStepWelcome:(e,t)=>{e.stepWelcome=t.payload},updateDontShowLikeTutorialAgain:(e,t)=>{e.isDontShowLikeTutorialAgain=t.payload},updateDontShowFAQAgain:(e,t)=>{e.isDontShowConfirmModalFAQ=t.payload},updateDontShowWelcomeMission:(e,t)=>{e.isDontShowWelcomeMission=t.payload},updateDontShowRemind:(e,t)=>{e.dueDateShowRemind=r()().set("hour",24).set("minute",0),e.isDontShowRemind=t.payload},updatedueDateShowRemindBefore:(e,t)=>{e.dueDateShowRemind=r()().toString()},updateStateTracking:(e,t)=>{e.aic_1st_skip=!1},setCodeZalo:(e,t)=>{e.codeZalo=t.payload}}}),{openModal:i,setUser:c,logout:s,updateUser:u,removeInvalidUserAndOpenLoginModal:d,setDeviceId:f,updateEnergy:p,updateStepWelcome:h,updateDontShowLikeTutorialAgain:g,updateDontShowWelcomeMission:m,setReferrer:v,setTypeModal:b,updateDontShowRemind:_,updatedueDateShowRemindBefore:y,updateStateTracking:j,setCodeZalo:k}=l.actions;t.ZP=l.reducer},5023:function(){},7836:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});let o={};function a(){return o}},9686:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});var o=n(2328);function a(e,t){let n=(0,o.Q)(e.start),a=(0,o.Q)(e.end),r=+n>+a,l=r?+n:+a,i=r?a:n;i.setHours(0,0,0,0);let c=t?.step??1;if(!c)return[];c<0&&(c=-c,r=!r);let s=[];for(;+i<=l;)s.push((0,o.Q)(i)),i.setDate(i.getDate()+c),i.setHours(0,0,0,0);return r?s.reverse():s}},1850:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var o=n(2328),a=n(7836);function r(e,t){let n=(0,a.j)(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=(0,o.Q)(e),i=l.getDay();return l.setDate(l.getDate()+((i<r?-7:0)+6-(i-r))),l.setHours(23,59,59,999),l}},7488:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var o=n(2328),a=n(7836);function r(e,t){let n=(0,a.j)(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=(0,o.Q)(e),i=l.getDay();return l.setDate(l.getDate()-((i<r?7:0)+i-r)),l.setHours(0,0,0,0),l}},2328:function(e,t,n){"use strict";function o(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}n.d(t,{Q:function(){return o}})}},function(e){e.O(0,[828,103,285,971,69,744],function(){return e(e.s=925)}),_N_E=e.O()}]);